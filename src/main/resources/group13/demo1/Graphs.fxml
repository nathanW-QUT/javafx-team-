<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.chart.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="group13.demo1.controller.GraphsController">

    <top>
        <VBox spacing="8" style="-fx-padding: 16;">
            <Label text="Distraction Graphs" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
            <Label fx:id="emptyState" visible="false" style="-fx-text-fill: -fx-text-base-color;"/>
        </VBox>
    </top>

    <center>
        <GridPane hgap="16" vgap="16" style="-fx-padding: 0 16 16 16;">
            <columnConstraints>
                <ColumnConstraints percentWidth="50"/>
                <ColumnConstraints percentWidth="50"/>
            </columnConstraints>
            <rowConstraints>
                <RowConstraints percentHeight="50"/>
                <RowConstraints percentHeight="50"/>
            </rowConstraints>

            <!-- Tag split -->
            <PieChart fx:id="tagPie" title="Tags (share)"/>
            <BarChart fx:id="tagBar" title="Tags (count)">
                <xAxis><CategoryAxis fx:id="tagBarXAxis"/></xAxis>
                <yAxis><NumberAxis fx:id="tagBarYAxis"/></yAxis>
            </BarChart>

            <!-- Trend over time -->
            <LineChart fx:id="trendChart" title="Distractions per day" GridPane.rowIndex="1" GridPane.columnSpan="2">
                <xAxis><CategoryAxis fx:id="trendXAxis"/></xAxis>
                <yAxis><NumberAxis fx:id="trendYAxis"/></yAxis>
            </LineChart>
        </GridPane>
    </center>

    <right>
        <VBox spacing="8" style="-fx-padding: 16;">
            <Label text="Top tags (ranked)" style="-fx-font-weight: bold;"/>
            <TableView fx:id="rankingTable" prefWidth="240">
                <columns>
                    <TableColumn fx:id="tagCol" text="Tag" prefWidth="150"/>
                    <TableColumn fx:id="countCol" text="Count" prefWidth="80"/>
                </columns>
            </TableView>
        </VBox>
    </right>

    <bottom>
        <HBox alignment="CENTER_RIGHT" style="-fx-padding: 8 16 16 16;">
            <Button text="Back" onAction="#onBackHome" fx:id="backBtn"/>
        </HBox>
    </bottom>
</BorderPane>
